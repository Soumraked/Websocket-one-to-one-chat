<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat Box</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="container" id="free-chat">
      <!-- Login section -->

      <div
        id="login"
        style="
          margin-left: auto;
          margin-right: auto;
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
        "
      >
        <div
          class="card text-center"
          style="max-width: 500px; min-width: 315px;"
        >
          <div class="card-header">
            Whatsup
          </div>
          <div class="card-body">
            <h5 class="card-title">Bienvenido a Whatsup</h5>
            <p class="card-text">
              La página de chat más utilizada en este ordenador.
            </p>
            <form class="form-inline">
              <div class="form-group" style="margin: 0 auto;">
                <label for="handle" class="sr-only">Nombre de usuario</label>
                <input
                  type="text"
                  class="form-control"
                  id="handle"
                  placeholder="Nombre de usuario"
                  autocomplete="off"
                />
                <a
                  class="btn btn-primary mx-2"
                  class="waves-effect waves-light btn"
                  id="sendUser"
                  style="color: aliceblue;"
                  >Ingresar
                </a>
              </div>
            </form>
            <div
              class="helper-text alert alert-danger"
              role="alert"
              id="handleError"
              style="display: none; margin-top: 3%;"
            ></div>
          </div>
          <div class="card-footer text-muted">
            Todos los derechos reservados.
          </div>
        </div>
      </div>
      <!-- Login section -->

      <!-- Chat section -->
      <div id="room-chat" style="display: none; margin-top: 20%;">
        <div class="card text-center">
          <div class="card-header">Bienvenido a Whatsup</div>
          <div
            class="row"
            style="
              margin-left: auto;
              margin-right: auto;
              width: max-content;
              height: max-content;
            "
          >
            <div class="col col-9">
              <div class="card text-center">
                <div
                  class="card-body"
                  style="width: max-content; height: max-content;"
                >
                  <h3 id="userName"></h3>
                  <div id="nameChat"></div>
                  <div
                    id="output"
                    style="
                      margin-top: 50px;
                      border-radius: 5px;
                      width: 150%;
                      padding: 5px;
                      max-height: 200px;
                      overflow-y: auto;
                      overflow-x: hidden;
                    "
                  ></div>
                </div>
              </div>
              <form class="form-inline">
                <div class="form-group" style="margin: 0 auto;">
                  <input
                    id="handleDestine"
                    type="text"
                    placeholder="Handle Destine"
                    disabled
                    style="display: none;"
                  />
                  <label for="message" class="sr-only">Mensaje</label>
                  <input
                    type="text"
                    class="form-control"
                    id="message"
                    placeholder="Mensaje"
                    autocomplete="off"
                  />
                  <a
                    class="btn btn-primary mx-2"
                    class="waves-effect waves-light btn"
                    id="send"
                    style="color: aliceblue;"
                    >Enviar
                  </a>
                </div>
              </form>
            </div>
            <div class="col col-3">
              <div
                class="card text-center"
                style="width: max-content; height: max-content;"
              >
                <div class="card-body">
                  <h5>Usuarios conectados</h5>
                  <div id="usernames" style="height: 280px;"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-footer text-muted">
            Todos los derechos reservados.
          </div>
        </div>
      </div>
      <!-- Chat section -->
    </div>
  </body>
  <script src="./chat.js"></script>
</html>
